<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
</head>

<body>
    <script>
        var pays = [{
            pays: 'France',
            capitale: 'Paris'
        }, {
            pays: 'Espagne',
            capitale: 'Madrid'
        }, {
            pays: 'Italie',
            capitale: 'Rome'
        }, {
            pays: 'Belgique',
            capitale: 'Bruxelles'
        }];
        var randomNumber = Math.floor(Math.random() * pays.length);
        var paysResponse = pays[randomNumber].pays;
        var capitaleResponse = pays[randomNumber].capitale;
        var essai = 0;
        function question(param) {
            if (param == 'old') {
                return prompt("Quelle est la capitale de ce pays :" + paysResponse + " ?", capitaleResponse).toLowerCase();
            }
            if ((param == 'new')  && (pays.length > 0)){
                randomNumber = Math.floor(Math.random() * pays.length);
                paysResponse = pays[randomNumber].pays;
                capitaleResponse = pays[randomNumber].capitale;
                return prompt("Quelle est la capitale de ce pays :" + paysResponse + " ?", capitaleResponse).toLowerCase();
            }
        }
        var userResponse = question('old');
        for (var x = 0; x <= pays.length ; x++) {
          console.log(pays.length);
                while ((essai <= 3) && (pays.length > 0)) {
                  console.log(pays.length)
                if (userResponse === capitaleResponse.toLowerCase()) {
                    console.log("Bien jou√© !");
                    pays.splice(randomNumber, 1);
                    essai =  0;
                    userResponse = question("new");

                } else {
                    console.log("Perdu essaye encore !");
                    userResponse = question("old");
                    essai++;
                }

              }
            if  (essai == 3) {
                alert("Vous avez definitivement perdu.");
                break;
            }

        }
    </script>
</body>
</html>
